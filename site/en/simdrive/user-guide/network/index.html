<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Release Documentation for MORAI SIM 1.0 EN"><meta name=author content="MORAI Engineering Service Team"><link href=https://morai-docs.github.io/sim1.0/en/0.1/simdrive/user-guide/network/ rel=canonical><link rel=alternate href=/sim1.0/ko/ hreflang=ko><link rel=alternate href=/sim1.0/en/ hreflang=en><link rel=icon href=../../../assets/favicon2.png><meta name=generator content="mkdocs-1.5.2, mkdocs-material-9.1.21+insiders-4.39.0"><title>Network Configuration - SIM 1.0 EN</title><link rel=stylesheet href=../../../assets/stylesheets/main.3a36e643.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.ecc776e4.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><link rel=stylesheet href=../../../assets/stylesheets/custom.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#network-configuration class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> <script src=../../../assets/javascripts/custom.js></script> For Technical issues, Go to <strong>Technical Support</strong> channel in <a rel=me href=https://discord.gg/qznWWuH5Vm> <span class="twemoji mastodon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </span> <strong>MORAI Discord</strong> </a> </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> <span style=color:#4051b5;> You're not viewing the latest version. <a href=../../../..> <strong>Click here to go to latest.</strong> </a></span> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="SIM 1.0 EN" class="md-header__button md-logo" aria-label="SIM 1.0 EN" data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> SIM 1.0 EN </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Network Configuration </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=/sim1.0/ko/ hreflang=ko class=md-select__link> Korean </a> </li> <li class=md-select__item> <a href=/sim1.0/en/ hreflang=en class=md-select__link> English </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/morai-docs/sim1.0 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> morai-docs/sim1.0 </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../user-guide/ class=md-tabs__link> User Guide </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="SIM 1.0 EN" class="md-nav__button md-logo" aria-label="SIM 1.0 EN" data-md-component=logo> <img src=../../../assets/logo.png alt=logo> </a> SIM 1.0 EN </label> <div class=md-nav__source> <a href=https://github.com/morai-docs/sim1.0 title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> morai-docs/sim1.0 </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../../../user-guide/ class="md-nav__link "> <span class=md-ellipsis> User Guide </span> </a> <label class="md-nav__link " for=__nav_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> User Guide </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../../../user-guide/about/ class="md-nav__link "> <span class=md-ellipsis> About this Document </span> </a> <label class="md-nav__link " for=__nav_2_2> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> About this Document </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../user-guide/about/revision-history/ class=md-nav__link> <span class=md-ellipsis> Revision History </span> </a> </li> <li class=md-nav__item> <a href=../../../user-guide/about/terms-conventions/ class=md-nav__link> <span class=md-ellipsis> Terms and Conventions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../../../user-guide/intro/ class="md-nav__link "> <span class=md-ellipsis> Introduction </span> </a> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__container"> <a href=../../../getting-started/ class="md-nav__link "> <span class=md-ellipsis> Getting Started with SIM </span> </a> <label class="md-nav__link " for=__nav_2_4> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Getting Started with SIM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting-started/requirements/ class=md-nav__link> <span class=md-ellipsis> System Requirements </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/execution/ class=md-nav__link> <span class=md-ellipsis> Execution </span> </a> </li> <li class=md-nav__item> <a href=../../../getting-started/network/ class=md-nav__link> <span class=md-ellipsis> Network Environment Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <div class="md-nav__link md-nav__container"> <a href=../../../user-guide/simdrive/ class="md-nav__link "> <span class=md-ellipsis> SIM Drive </span> </a> <label class="md-nav__link " for=__nav_2_5> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> SIM Drive </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../user-guide/simdrive/release-notes/ class=md-nav__link> <span class=md-ellipsis> Release Note </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-communication-method class=md-nav__link> <span class=md-ellipsis> Supported communication method </span> </a> </li> <li class=md-nav__item> <a href=#receiving-aircraft-control-messages class=md-nav__link> <span class=md-ellipsis> Receiving Aircraft Control Messages </span> </a> <nav class=md-nav aria-label="Receiving Aircraft Control Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-subscribe-to-ros2-messages class=md-nav__link> <span class=md-ellipsis> Step 1: Subscribe to ROS2 messages </span> </a> </li> <li class=md-nav__item> <a href=#step-2-udp-network-settings-in-the-simulator class=md-nav__link> <span class=md-ellipsis> Step 2: UDP network settings in the simulator </span> </a> <nav class=md-nav aria-label="Step 2: UDP network settings in the simulator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-activate-the-network-menu class=md-nav__link> <span class=md-ellipsis> 1) Activate the network menu </span> </a> </li> <li class=md-nav__item> <a href=#2-configure-host-ipport class=md-nav__link> <span class=md-ellipsis> 2) Configure Host IP/Port </span> </a> </li> <li class=md-nav__item> <a href=#3-network-connection class=md-nav__link> <span class=md-ellipsis> 3) Network connection </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-3-send-messages-from-external-server class=md-nav__link> <span class=md-ellipsis> Step 3: Send messages from external server </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sending-sensor-messages class=md-nav__link> <span class=md-ellipsis> Sending Sensor Messages </span> </a> <nav class=md-nav aria-label="Sending Sensor Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#step-1-senosr-network-settings-in-the-simulator class=md-nav__link> <span class=md-ellipsis> Step 1: Senosr network settings in the simulator </span> </a> <nav class=md-nav aria-label="Step 1: Senosr network settings in the simulator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-place-sensors-on-the-aircraft class=md-nav__link> <span class=md-ellipsis> 1) Place sensors on the aircraft </span> </a> </li> <li class=md-nav__item> <a href=#2-configure-destination-ipport class=md-nav__link> <span class=md-ellipsis> 2) Configure Destination IP/Port </span> </a> </li> <li class=md-nav__item> <a href=#3-network-connection_1 class=md-nav__link> <span class=md-ellipsis> 3) Network connection </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#step-2-publishing-to-ros2 class=md-nav__link> <span class=md-ellipsis> Step 2: Publishing to ROS2 </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#network-message-specifications class=md-nav__link> <span class=md-ellipsis> Network Message Specifications </span> </a> <nav class=md-nav aria-label="Network Message Specifications"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#udp-messages-structure class=md-nav__link> <span class=md-ellipsis> UDP Messages Structure </span> </a> <nav class=md-nav aria-label="UDP Messages Structure"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#header-information class=md-nav__link> <span class=md-ellipsis> Header Information </span> </a> </li> <li class=md-nav__item> <a href=#data-information class=md-nav__link> <span class=md-ellipsis> Data Information </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#udp-recieve-messages class=md-nav__link> <span class=md-ellipsis> UDP Recieve Messages </span> </a> <nav class=md-nav aria-label="UDP Recieve Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cirrus_tx class=md-nav__link> <span class=md-ellipsis> Cirrus_tx </span> </a> </li> <li class=md-nav__item> <a href=#cirrus_controlposition class=md-nav__link> <span class=md-ellipsis> Cirrus_ControlPosition </span> </a> </li> <li class=md-nav__item> <a href=#cirrus_braking class=md-nav__link> <span class=md-ellipsis> Cirrus_Braking </span> </a> </li> <li class=md-nav__item> <a href=#cirrus_engine class=md-nav__link> <span class=md-ellipsis> Cirrus_Engine </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#udp-send-messages class=md-nav__link> <span class=md-ellipsis> UDP Send Messages </span> </a> <nav class=md-nav aria-label="UDP Send Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gnss class=md-nav__link> <span class=md-ellipsis> GNSS </span> </a> </li> <li class=md-nav__item> <a href=#imu class=md-nav__link> <span class=md-ellipsis> IMU </span> </a> </li> <li class=md-nav__item> <a href=#camera-image class=md-nav__link> <span class=md-ellipsis> Camera (Image) </span> </a> </li> <li class=md-nav__item> <a href=#radar class=md-nav__link> <span class=md-ellipsis> Radar </span> </a> </li> <li class=md-nav__item> <a href=#lidar class=md-nav__link> <span class=md-ellipsis> Lidar </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ros2-send-messages class=md-nav__link> <span class=md-ellipsis> ROS2 Send Messages </span> </a> <nav class=md-nav aria-label="ROS2 Send Messages"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#gnss_1 class=md-nav__link> <span class=md-ellipsis> GNSS </span> </a> </li> <li class=md-nav__item> <a href=#imu_1 class=md-nav__link> <span class=md-ellipsis> IMU </span> </a> </li> <li class=md-nav__item> <a href=#image-camera class=md-nav__link> <span class=md-ellipsis> Image (Camera) </span> </a> </li> <li class=md-nav__item> <a href=#radar_1 class=md-nav__link> <span class=md-ellipsis> Radar </span> </a> </li> <li class=md-nav__item> <a href=#lidar_1 class=md-nav__link> <span class=md-ellipsis> Lidar </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/morai-docs/sim1.0/blob/main/docs/en/simdrive/user-guide/network.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/morai-docs/sim1.0/raw/main/docs/en/simdrive/user-guide/network.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=network-configuration>Network Configuration<a class=headerlink href=#network-configuration title="Permanent link">&para;</a></h1> <p>This section describes the configuration of the network environment of MORAI SIM: Air, the setting method for data communication between external systems, and sending/receiving messages.</p> <hr> <h2 id=supported-communication-method>Supported communication method<a class=headerlink href=#supported-communication-method title="Permanent link">&para;</a></h2> <p>MORAI SIM: Air supports UDP and ROS2 for network communication between the simulator and external systems.</p> <p><a href=https://en.wikipedia.org/wiki/User_Datagram_Protocol>UDP</a> is a widely used network protocol for transmitting data over the internet, while <a href=https://docs.ros.org/en/rolling/index.html>ROS2 (Robot Operating System 2)</a> is a popular middleware for robotics and automation applications. <br> The MORAI SIM: Air simulator allows for sending sensor data and receiving aircraft control messages using either UDP or ROS2 communication methods. </p> <p>To communicate with MORAI SIM: Air, <br> Depending on the simulator's message transmission/reception method, the following network settings are required.</p> <figure> <img src=../../img/network-configure.png style="width: 1000px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)> <figcaption style="padding-top: 10px;"><b> Figure 1. Network communication method supported by MORAI SIM: Air</b></figcaption> </figure> <ul> <li> <p>MORAI SIM: Air sends sensor data to an external system</p> <ol> <li><strong>UDP Network Settings</strong> in each sensor model in the simulator</li> <li>Receive UDP messages and publish to ROS2 using <strong>UDP to ROS2 Bridge</strong></li> </ol> </li> <li> <p>MORAI SIM: Air receives aircraft control messages from an external system</p> <ol> <li><strong>UDP Network Settings</strong> provided by the simulator (Subscriber IP/Port setting)</li> <li>Subscribe to ROS2 messages and them over UDP using <strong>UDP to ROS2 Bridge</strong></li> </ol> </li> </ul> <p>The UDP to ROS2 Bridge serves to connect data between the UDP-based simulator and the ROS2 system by receiving and transmitting UDP signals and issuing and subscribing to ROS2 as shown below.</p> <figure> <img src=../../img/network-ros2bridge.png style="width: 1000px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)> <figcaption style="padding-top: 10px;"><b> Figure 2. Role of 'UDP to ROS2 Bridge'</b></figcaption> </figure> <div class="bs-callout bs-callout-danger"> ⚠️ <span class=dan-calloutTitle> WARNING </span> <br> The current simulator does not provide direct support for transmitting/receiving ROS2 messages. Therefore, <b>UDP to ROS2 Bridge</b> should be used for ROS2 communication with an external system. </div> <h2 id=receiving-aircraft-control-messages>Receiving Aircraft Control Messages<a class=headerlink href=#receiving-aircraft-control-messages title="Permanent link">&para;</a></h2> <p>For the simulator to receive ROS2 messages via UDP, <br> Configure the ROS2 to UDP communication environment and set the network of the simulator in the order below.</p> <h3 id=step-1-subscribe-to-ros2-messages>Step 1: Subscribe to ROS2 messages<a class=headerlink href=#step-1-subscribe-to-ros2-messages title="Permanent link">&para;</a></h3> <p>For this step, you need to install and run <strong>UDP to ROS2 Bridge</strong>.</p> <div class="bs-callout bs-callout-success"> ✅ <span class=suc-calloutTitle> TIPS </span> <br>See the <a href=https://morai.atlassian.net/wiki/external/1372881223/NzI2NTk2NWU0ODBjNDJmYTkwOGRjZDBiMWEwMmZhMzI>UDP to ROS2 Bridge User Guide</a> provided separately. </div> <h3 id=step-2-udp-network-settings-in-the-simulator>Step 2: UDP network settings in the simulator<a class=headerlink href=#step-2-udp-network-settings-in-the-simulator title="Permanent link">&para;</a></h3> <h4 id=1-activate-the-network-menu>1) Activate the network menu<a class=headerlink href=#1-activate-the-network-menu title="Permanent link">&para;</a></h4> <p>Click <strong>Network</strong> in the top left menu as shown below. <img src=../../img/network-setting.png style="width: 1000px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=2-configure-host-ipport>2) Configure Host IP/Port<a class=headerlink href=#2-configure-host-ipport title="Permanent link">&para;</a></h4> <p>The method of receiving aircraft control messages in the simulator consists of <strong>GHOST MODE</strong> and <strong>EXTERNAL CTRL</strong> protocol.</p> <p>Configure the Host IP/Port as below to operate the aircraft in <strong>GHOST MODE</strong> by receiving external control messages.</p> <ul> <li>Host IP: Enter the IP of the host PC running the simulator</li> <li>Host Port: Enter the Port of Host PC</li> </ul> <p>Host IP/Port configuration method for <strong>EXTERNAL CTRL</strong> protocol is the same as above.</p> <h4 id=3-network-connection>3) Network connection<a class=headerlink href=#3-network-connection title="Permanent link">&para;</a></h4> <p>Click <strong>Connect</strong> at the bottom <strong>PROTOCOL_SUB_GHOSTMODE</strong> or <strong>PROTOCOL_SUB_EXTERNALCTRL</strong>. <br> Then, it enters into a standby state in which a control message can be received.</p> <h3 id=step-3-send-messages-from-external-server>Step 3: Send messages from external server<a class=headerlink href=#step-3-send-messages-from-external-server title="Permanent link">&para;</a></h3> <p>Send a message from the external server to the simulator using UDP to ROS2 Bridge.</p> <ul> <li>Send coordinates by playing rosbag file</li> <li>Send UDP packet</li> </ul> <p>UDP messages received by each mode are as follows.</p> <ul> <li>GHOST MODE:<ul> <li><code>Cirrus_tx</code></li> </ul> </li> <li>EXTERNAL CTRL: <ul> <li><code>CIRRUS_CONTROL_POSITION</code> // 101 SIM -&gt; JSBSim</li> <li><code>CIRRUS_BRAKING</code> // 102</li> <li><code>CIRRUS_ENGINE</code> // 103</li> </ul> </li> </ul> <div class="bs-callout bs-callout-success"> ✅ <span class=suc-calloutTitle> TIPS </span> <br> For details on the types and structure of UDP messages received in GHOST MODE or EXTERNAL CTRL, see the <a href=#udp-recieve-messages>UDP Recieve Messages</a> section. </div> <h2 id=sending-sensor-messages>Sending Sensor Messages<a class=headerlink href=#sending-sensor-messages title="Permanent link">&para;</a></h2> <p>For the simulator to send UDP messages via ROS2, <br> Set the sensor network of the simulator in the order below and configure the UDP to ROS2 communication environment.</p> <h3 id=step-1-senosr-network-settings-in-the-simulator>Step 1: Senosr network settings in the simulator<a class=headerlink href=#step-1-senosr-network-settings-in-the-simulator title="Permanent link">&para;</a></h3> <h4 id=1-place-sensors-on-the-aircraft>1) Place sensors on the aircraft<a class=headerlink href=#1-place-sensors-on-the-aircraft title="Permanent link">&para;</a></h4> <div class="bs-callout bs-callout-success"> ✅ <span class=suc-calloutTitle> TIPS </span> <br> For details on how to place the sensor, see the <a href=../sensors/#sensor-placement>Sensor Placement</a> section. </div> <h4 id=2-configure-destination-ipport>2) Configure Destination IP/Port<a class=headerlink href=#2-configure-destination-ipport title="Permanent link">&para;</a></h4> <p>Configure Destination IP/Port for UDP network in <strong>Network Settings</strong> at the bottom of the sensor setting window.</p> <p><img src=../../img/network-sensor.png style="width: 500px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <ul> <li><strong>Destination IP</strong> and <strong>Port</strong>: <ul> <li>Enter the IP and port of the target server that transmits sensor data in the simulator.</li> <li>In case of ROS2 communication in the server, enter the IP and Port of the server where UDP to ROS2 Bridge is installed.</li> </ul> </li> </ul> <h4 id=3-network-connection_1>3) Network connection<a class=headerlink href=#3-network-connection_1 title="Permanent link">&para;</a></h4> <p>Click <strong>Connect</strong> at the bottom of <strong>Network Settings</strong>. <br> Then, it enters into a standby state in which sensor messages can be transmitted.</p> <p>In the case of a Camera sensor, when a sensor network is connected, a preview window appears on the left side of the sensor setting window as shown below. <img src=../../img/network-sensor-preview.png style="width: 500px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h3 id=step-2-publishing-to-ros2>Step 2: Publishing to ROS2<a class=headerlink href=#step-2-publishing-to-ros2 title="Permanent link">&para;</a></h3> <p>For this step, you need to install and run <strong>UDP to ROS2 Bridge</strong>.</p> <div class="bs-callout bs-callout-success"> ✅ <span class=suc-calloutTitle> TIPS </span> <br>See the <a href=https://morai.atlassian.net/wiki/external/1372881223/NzI2NTk2NWU0ODBjNDJmYTkwOGRjZDBiMWEwMmZhMzI>UDP to ROS2 Bridge User Guide</a> provided separately. </div> <div class="bs-callout bs-callout-success"> ✅ <span class=suc-calloutTitle> TIPS </span> <br> For details on the types and structure of UDP and ROS2 messages sent by the simulator, see the <a href=#udp-send-messages>UDP Send Messages</a> and <a href=#ros2-send-messages>ROS2 Send Messages</a> section. </div> <h2 id=network-message-specifications>Network Message Specifications<a class=headerlink href=#network-message-specifications title="Permanent link">&para;</a></h2> <p>This section describes details such as the type and format of messages received and transmitted by MORAI SIM: Air as described above.</p> <h3 id=udp-messages-structure>UDP Messages Structure<a class=headerlink href=#udp-messages-structure title="Permanent link">&para;</a></h3> <p>All receiving and sending UDP messages are composed of <strong>'Header + Data'</strong>.</p> <p>If the UDP packet size exceeds 65000, it is internally separated and transmitted, and reassembled at the receiving point. However, if the receiver uses Morai's UDP module, even if the defined max buffer is less than 65000, the separation logic works when trying to send a message larger than the max buffer.</p> <p>Ex) #define Max_buffer 1024: If the total data size to be sent exceeds 1024, it is sent separately.</p> <h4 id=header-information>Header Information<a class=headerlink href=#header-information title="Permanent link">&para;</a></h4> <p><div class="language-c++ highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=k>struct</span><span class=w> </span><span class=nc>MoraiHeader</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=p>{</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>    </span><span class=kt>char</span><span class=w> </span><span class=n>header_name</span><span class=p>[</span><span class=mi>12</span><span class=p>];</span><span class=w>         </span><span class=c1>// MoraiHeader</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data_type</span><span class=p>;</span><span class=w>                 </span><span class=c1>// data_type.h 참조</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>data_size</span><span class=p>;</span><span class=w>                 </span><span class=c1>// data size</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/header-1680492926933.drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=data-information>Data Information<a class=headerlink href=#data-information title="Permanent link">&para;</a></h4> <p>The detailed data structure of the UDP message is described for each received and transmitted message as follows.</p> <ul> <li>4 recieve control messages: <ul> <li><code>Cirrus_tx</code></li> <li><code>Cirrus_ControlPosition</code></li> <li><code>Cirrus_Braking</code> </li> <li><code>Cirrus_Engine</code></li> </ul> </li> <li>5 send sensor messages: <ul> <li><code>Sensor_NavSatFix</code> (GNSS)</li> <li><code>Sensor_Imu</code></li> <li><code>Sensor_Image</code></li> <li><code>Sensor_Radar</code></li> <li><code>SensorLidar</code></li> </ul> </li> </ul> <div class="language-c++ highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=cm>/*</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=cm>Morai Data type define</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=cm>*/</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=cp>#ifndef DATA_TYPE_H</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=cp>#define DATA_TYPE_H</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=k>enum</span><span class=w> </span><span class=k>class</span><span class=w> </span><span class=nc>MoraiDataType</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=kt>uint32_t</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=p>{</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>    </span><span class=n>NONE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=n>SENSOR_GNSS</span><span class=p>,</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>    </span><span class=n>SENSOR_IMAGE</span><span class=p>,</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>    </span><span class=n>SENSOR_RADAR</span><span class=p>,</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>    </span><span class=n>SENSOR_IMU</span><span class=p>,</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=w>    </span><span class=n>SENSOR_LIDAR</span><span class=p>,</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=w>    </span><span class=n>CIRRUS_TX</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x64</span><span class=p>,</span><span class=w>               </span><span class=c1>// 100  cirrus -&gt; morai</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=w>    </span><span class=n>CIRRUS_CONTROL_POSITION</span><span class=p>,</span><span class=w>        </span><span class=c1>// 101  SIM -&gt; JSBSim</span>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>    </span><span class=n>CIRRUS_BRAKING</span><span class=p>,</span><span class=w>                 </span><span class=c1>// 102  </span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>    </span><span class=n>CIRRUS_ENGINE</span><span class=p>,</span><span class=w>                  </span><span class=c1>// 103</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=w>    </span><span class=n>LARGE_DATA</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mh>0x3E8</span><span class=p>,</span><span class=w>             </span><span class=c1>// 1000 for test</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=p>};</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=cp>#endif</span>
</span></code></pre></div> <p><br> And the data structure of all receiving and sending UDP messages includes the following common <code>struct</code> type.</p> <div class="language-text highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>struct Ros_Timestamp
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>{
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>    int32_t sec;
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a>    uint32_t nanosec;
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>};
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>struct Ros_HEADER
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>{
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    Ros_Timestamp stamp;
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>    uint8_t str_len;
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    char* frame_id;
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a>};
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a>struct Sensor_NavSatStatus
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a>{
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a>    int8_t status;
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>    uint16_t service;
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>};
</span></code></pre></div> <h3 id=udp-recieve-messages>UDP Recieve Messages<a class=headerlink href=#udp-recieve-messages title="Permanent link">&para;</a></h3> <p>The data structure and packets for each UDP message received by Morai SIM from the external Cirrus system are as follows.</p> <h4 id=cirrus_tx>Cirrus_tx<a class=headerlink href=#cirrus_tx title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Cirrus_Tx</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=p>{</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>lon</span><span class=p>;</span><span class=w>              </span><span class=c1>// deg</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>lat</span><span class=p>;</span><span class=w>              </span><span class=c1>// deg</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>alt</span><span class=p>;</span><span class=w>              </span><span class=c1>// ft</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>heading</span><span class=p>;</span><span class=w>          </span><span class=c1>// deg</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>roll</span><span class=p>;</span><span class=w>             </span><span class=c1>// deg</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>pitch</span><span class=p>;</span><span class=w>            </span><span class=c1>// deg</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>sur_aileron</span><span class=p>;</span><span class=w>      </span><span class=c1>// [-1 ~ 1]</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>sur_flap</span><span class=p>;</span><span class=w>         </span><span class=c1>// [-1 ~ 1]</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>sur_elevator</span><span class=p>;</span><span class=w>     </span><span class=c1>// [-1 ~ 1]</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>sur_rudder</span><span class=p>;</span><span class=w>       </span><span class=c1>// [-1 ~ 1]</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/cirrus_tx.drawio.png style="width: 1000px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=cirrus_controlposition>Cirrus_ControlPosition<a class=headerlink href=#cirrus_controlposition title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Cirrus_ControlPosition</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=p>{</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetDaCmd</span><span class=p>;</span><span class=w>             </span><span class=c1>// get_aileron              -1 ~ +1</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetRollTrimCmd</span><span class=p>;</span><span class=w>       </span><span class=c1>// get_aileron_trim         (-0.1 ~ +0.1)</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetDeCmd</span><span class=p>;</span><span class=w>             </span><span class=c1>// get_elevator             -1 ~ +1</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetPitchTrimCmd</span><span class=p>;</span><span class=w>      </span><span class=c1>// get_elevator_trim        (-0.1 ~ +0.1)</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetDrCmd</span><span class=p>;</span><span class=w>             </span><span class=c1>// get_rudder               -1 ~ +1                 </span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetDsCmd</span><span class=p>;</span><span class=w>             </span><span class=c1>// get_rudder               -1 ~ +1                 </span>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetYawTrimCmd</span><span class=p>;</span><span class=w>        </span><span class=c1>// get_rudder_trim          (-0.1 ~ +0.1)</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetDfCmd</span><span class=p>;</span><span class=w>             </span><span class=c1>// get_flaps                0 ~ 1</span>
</span><span id=__span-4-11><a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/Cirrus_ControlPosition.drawio.png style="width: 1000px; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=cirrus_braking>Cirrus_Braking<a class=headerlink href=#cirrus_braking title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Cirrus_Braking</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=p>{</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetBrake</span><span class=p>;</span><span class=w>             </span><span class=c1>// Left + Right             0~1   </span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/Cirrus_Braking.drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=cirrus_engine>Cirrus_Engine<a class=headerlink href=#cirrus_engine title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Cirrus_Engine</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=p>{</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>SetThrottleCmd</span><span class=p>;</span><span class=w>      </span><span class=c1>// get_throttle(i)           0~1</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/Cirrus_Engine.drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h3 id=udp-send-messages>UDP Send Messages<a class=headerlink href=#udp-send-messages title="Permanent link">&para;</a></h3> <p>The data structure and packet for each UDP message transmitted by MORA SIM to the external Cirrus system are as follows.</p> <h4 id=gnss>GNSS<a class=headerlink href=#gnss title="Permanent link">&para;</a></h4> <div class="language-C++ highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Sensor_NavSatFix</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=p>{</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=n>Ros_HEADER</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=n>Sensor_NavSatStatus</span><span class=w> </span><span class=n>status</span><span class=p>;</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>latitude</span><span class=p>;</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>longitude</span><span class=p>;</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>altitude</span><span class=p>;</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>position_covariance</span><span class=p>[</span><span class=mi>9</span><span class=p>];</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>position_covariance_type</span><span class=p>;</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=p>};</span>
</span></code></pre></div> <p><img src=../../img/gnss-drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=imu>IMU<a class=headerlink href=#imu title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Sensor_Imu</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=p>{</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>    </span><span class=n>Ros_HEADER</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>    </span><span class=n>geometry_msgs</span><span class=o>::</span><span class=n>Quarternion</span><span class=w> </span><span class=n>orientation</span><span class=p>;</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>orientation_covariance</span><span class=p>[</span><span class=mi>9</span><span class=p>];</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>    </span><span class=n>geometry_msgs</span><span class=o>::</span><span class=n>Vector3</span><span class=w> </span><span class=n>angular_velocity</span><span class=p>;</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>angular_velocity_covariance</span><span class=p>[</span><span class=mi>9</span><span class=p>];</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>    </span><span class=n>geometry_msgs</span><span class=o>::</span><span class=n>Vector3</span><span class=w> </span><span class=n>linear_acceleration</span><span class=p>;</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>    </span><span class=kt>double</span><span class=w> </span><span class=n>liner_acceleration_covariance</span><span class=p>[</span><span class=mi>9</span><span class=p>];</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/imu-drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=camera-image>Camera (Image)<a class=headerlink href=#camera-image title="Permanent link">&para;</a></h4> <p><div class="language-C++ highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Sensor_Image</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=p>{</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>    </span><span class=kt>int</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=n>Ros_HEADER</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>height</span><span class=p>;</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>width</span><span class=p>;</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>    </span><span class=kt>uint16_t</span><span class=w> </span><span class=n>str_len</span><span class=p>;</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>    </span><span class=kt>char</span><span class=o>*</span><span class=w> </span><span class=n>encoding</span><span class=p>;</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>is_bigendian</span><span class=p>;</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>step</span><span class=p>;</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>    </span><span class=kt>uint8_t</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>;</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/image-drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=radar>Radar<a class=headerlink href=#radar title="Permanent link">&para;</a></h4> <p><div class="language-c++ highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Sensor_Radar</span><span class=w> </span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=p>{</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>    </span><span class=n>Ros_HEADER</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>num_detections</span><span class=p>;</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>    </span><span class=n>Radar_Detection</span><span class=w> </span><span class=n>detections</span><span class=p>[</span><span class=mi>64</span><span class=p>];</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=p>};</span>
</span></code></pre></div> <br> <img src=../../img/radar-drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h4 id=lidar>Lidar<a class=headerlink href=#lidar title="Permanent link">&para;</a></h4> <p><div class="language-c++ highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>PointField</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=p>{</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>name_length</span><span class=p>;</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>string</span><span class=w> </span><span class=n>name</span><span class=p>;</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>offset</span><span class=p>;</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>datatype</span><span class=p>;</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>count</span><span class=p>;</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=p>}</span><span class=w> </span><span class=n>POINT_FIELD</span><span class=p>;</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=k>typedef</span><span class=w> </span><span class=k>struct</span><span class=w> </span><span class=nc>SensorLidar</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a><span class=p>{</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>id</span><span class=p>;</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=w>    </span><span class=n>RosHeader</span><span class=w> </span><span class=n>header</span><span class=p>;</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>height</span><span class=p>;</span><span class=w>            </span><span class=c1>// 2D structure of the point cloud.If the cloud is unordered, height is</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w> </span><span class=n>width</span><span class=p>;</span><span class=w>             </span><span class=c1>// 1 and width is the length of the point cloud.</span>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a><span class=w>    </span><span class=kt>uint8_t</span><span class=w> </span><span class=n>fields_len</span><span class=p>;</span><span class=w>         </span><span class=c1>// size of PointField</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a><span class=w>    </span><span class=n>PointField</span><span class=o>*</span><span class=w> </span><span class=n>fields</span><span class=p>;</span><span class=w>           </span><span class=c1>// Describes the channels and their layout in the binary data blob.</span>
</span><span id=__span-11-18><a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a><span class=w>    </span><span class=kt>bool</span><span class=w>    </span><span class=n>is_bigendian</span><span class=p>;</span><span class=w>       </span><span class=c1>// Is this data bigendian ?</span>
</span><span id=__span-11-19><a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w>  </span><span class=n>point_step</span><span class=p>;</span><span class=w>         </span><span class=c1>// Length of a point in bytes</span>
</span><span id=__span-11-20><a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a><span class=w>    </span><span class=kt>uint32_t</span><span class=w>  </span><span class=n>row_step</span><span class=p>;</span><span class=w>           </span><span class=c1>// Length of a row in bytes</span>
</span><span id=__span-11-21><a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=w>    </span><span class=kt>uint8_t</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>;</span><span class=w>                </span><span class=c1>// Actual point data, size is(row_step* height)</span>
</span><span id=__span-11-22><a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a><span class=w>    </span><span class=kt>bool</span><span class=w> </span><span class=n>is_dense</span><span class=p>;</span><span class=w>              </span><span class=c1>// True if there are no invalid points</span>
</span><span id=__span-11-23><a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a><span class=p>}</span><span class=w> </span><span class=n>SENSRO_LIDAR</span><span class=p>;</span>
</span></code></pre></div> <br></p> <p><img src=../../img/lidar-drawio.png style="width: auto; height: auto;" alt=sensor title="Click to Enlage" onclick=window.open(this.src)></p> <h3 id=ros2-send-messages>ROS2 Send Messages<a class=headerlink href=#ros2-send-messages title="Permanent link">&para;</a></h3> <p>The type and data format for each ROS2 message transmitted by MORA SIM to the external Cirrus system are as follows.</p> <h4 id=gnss_1>GNSS<a class=headerlink href=#gnss_1 title="Permanent link">&para;</a></h4> <ul> <li> <p>Message Type: <a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/NavSatFix.msg>sensor_msgs/msg/NavSatFix</a></p> </li> <li> <p>Data Format</p> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>header</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/std_msgs/msg/Header.msg>Header</a></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>status</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/NavSatStatus.msg>NavSatStatus</a></td> <td></td> <td></td> </tr> <tr> <td>3</td> <td>latitude</td> <td>double</td> <td>deg</td> <td></td> </tr> <tr> <td>4</td> <td>longitude</td> <td>double</td> <td>deg</td> <td></td> </tr> <tr> <td>5</td> <td>altitude</td> <td>double</td> <td>deg</td> <td></td> </tr> <tr> <td>6</td> <td>position_covariance</td> <td>double[9]</td> <td></td> <td>East, North, and Up (ENU), in row major order</td> </tr> <tr> <td>7</td> <td>position_covariance_type</td> <td>uint8</td> <td>deg</td> <td><code>0</code> : COVARIANCE_TYPE_UNKNOWN <br> <code>1</code> : COVARIANCE_TYPE_APPROXIMATED <br> <code>2</code> : COVARIANCE_TYPE_DIAGONAL_KNOWN <br> <code>3</code> : COVARIANCE_TYPE_KNOWN</td> </tr> </tbody> </table> </li> </ul> <h4 id=imu_1>IMU<a class=headerlink href=#imu_1 title="Permanent link">&para;</a></h4> <ul> <li> <p>Message Type: <a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/Imu.msg>sensor_msgs/msg/Imu</a></p> </li> <li> <p>Data Format</p> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>header</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/std_msgs/msg/Header.msg>Header</a></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>orientation</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/geometry_msgs/msg/Quaternion.msg>Quaternion</a></td> <td></td> <td></td> </tr> <tr> <td>3</td> <td>orientation_covariance</td> <td>double[9]</td> <td></td> <td>Row major about x, y, z axes</td> </tr> <tr> <td>4</td> <td>angular_velocity</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/geometry_msgs/msg/Vector3.msg>Vector3</a></td> <td>rad/sec</td> <td></td> </tr> <tr> <td>5</td> <td>angular_velocity_covariance</td> <td>double[9]</td> <td></td> <td>Row major about x, y, z axes</td> </tr> <tr> <td>6</td> <td>linear_acceleration</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/geometry_msgs/msg/Vector3.msg>Vector3</a></td> <td>m/s^s</td> <td></td> </tr> <tr> <td>7</td> <td>linear_acceleration_covariance</td> <td>double[9]</td> <td></td> <td>Row major about x, y, z axes</td> </tr> </tbody> </table> </li> </ul> <h4 id=image-camera>Image (Camera)<a class=headerlink href=#image-camera title="Permanent link">&para;</a></h4> <ul> <li> <p>Message Type: <a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/Image.msg>sensor_msgs/msg/Image</a></p> </li> <li> <p>Data Format</p> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>header</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/std_msgs/msg/Header.msg>Header</a></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>height</td> <td>uint32</td> <td></td> <td>number of rows</td> </tr> <tr> <td>3</td> <td>width</td> <td>uint32</td> <td></td> <td>number of columns</td> </tr> <tr> <td>4</td> <td>encoding</td> <td>string</td> <td></td> <td>'bgra8'</td> </tr> <tr> <td>5</td> <td>is_bigendian</td> <td>uint8</td> <td></td> <td></td> </tr> <tr> <td>6</td> <td>step</td> <td>uint32</td> <td></td> <td>value is (width * 4)</td> </tr> <tr> <td>7</td> <td>data</td> <td>uint8[]</td> <td></td> <td>size is (step * height)</td> </tr> </tbody> </table> </li> </ul> <h4 id=radar_1>Radar<a class=headerlink href=#radar_1 title="Permanent link">&para;</a></h4> <ul> <li> <p>Message Type: <a href=https://github.com/MORAI-Autonomous/MORAI-ROS2_morai_msgs/blob/main/msg/RadarDetections.msg>morai_msgs/msg/RadarDetections</a></p> </li> <li> <p>Data Format</p> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>header</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/std_msgs/msg/Header.msg>Header</a></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>detections</td> <td>RadarDetection[]</td> <td></td> <td></td> </tr> </tbody> </table> <ul> <li>RadarDetection</li> </ul> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>detection_id</td> <td>uint16</td> <td></td> <td>Index of each radar detection point</td> </tr> <tr> <td>2</td> <td>position</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/geometry_msgs/msg/Point.msg>Point</a></td> <td>m</td> <td>x, y, z position of each radar detection point</td> </tr> <tr> <td>3</td> <td>azimuth</td> <td>float</td> <td>deg</td> <td>azimuth angle of each radar detection point in Degree</td> </tr> <tr> <td>4</td> <td>rangerate</td> <td>float</td> <td>m/s</td> <td>relative velocity of the radar detected target w.r.t radial direction</td> </tr> <tr> <td>5</td> <td>amplitude</td> <td>float</td> <td></td> <td>amplitude of the reflected signal of the radar detected target(rcs)</td> </tr> </tbody> </table> </li> </ul> <h4 id=lidar_1>Lidar<a class=headerlink href=#lidar_1 title="Permanent link">&para;</a></h4> <ul> <li> <p>Message Type: <a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/PointCloud2.msg>sensor_msgs/msg/PointCloud2</a></p> </li> <li> <p>Data Format</p> <table> <thead> <tr> <th>No</th> <th>Name</th> <th>Type</th> <th>Unit</th> <th>Remarks</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>header</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/std_msgs/msg/Header.msg>Header</a></td> <td></td> <td></td> </tr> <tr> <td>2</td> <td>height</td> <td>uint32</td> <td></td> <td>If the cloud is unordered, height is 1</td> </tr> <tr> <td>3</td> <td>width</td> <td>uint32</td> <td></td> <td>Width is the length of the point cloud</td> </tr> <tr> <td>4</td> <td>fields</td> <td><a href=https://github.com/ros2/common_interfaces/blob/galactic/sensor_msgs/msg/PointField.msg>PointField</a>[]</td> <td></td> <td>Describes the channels and their layout in the binary data blob</td> </tr> <tr> <td>5</td> <td>is_bigendian</td> <td></td> <td></td> <td></td> </tr> <tr> <td>6</td> <td>point_step</td> <td>uint32</td> <td></td> <td>Length of a point in bytes</td> </tr> <tr> <td>7</td> <td>data</td> <td>uint8[]</td> <td></td> <td>size is (row_step*height)</td> </tr> <tr> <td>8</td> <td>is_dense</td> <td>bool</td> <td></td> <td>True if there are no invalid points</td> </tr> </tbody> </table> </li> </ul> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2023 <a href=https://www.morai.ai>MORAI Inc.</a> Maintained by the <a href=https://github.com/morai-docs>MORAI-Docs Team.</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs Insiders </a> </div> <div class=md-social> <a href=https://github.com/morai-docs target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.6c7302c4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.7c5c0157.min.js></script> <script src=../../../assets/javascripts/custom.js></script> </body> </html>